// Ezt a részt frissítettem a render függvényben a hierarchia kezeléséhez
function getSocialThumb(url, platform) {
    if (!url) return null;
    
    // 1. YouTube (marad a régi, bevált módszer)
    const ytMatch = url.match(/^.*(youtu\.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/);
    if (ytMatch && ytMatch[2].length === 11) {
        return `https://img.youtube.com/vi/${ytMatch[2]}/mqdefault.jpg`;
    }

    // 2. TikTok / Instagram / FB - Külső generátor megpróbálása
    // Ez egy képernyőképet készít az adott linkről
    if (url.includes('tiktok.com') || url.includes('instagram.com') || url.includes('facebook.com')) {
        // Az unavatar.io megpróbálja lekérni a meta-adatokból a képet
        return `https://unavatar.io/social/${encodeURIComponent(url)}`;
    }

    return null;
}
